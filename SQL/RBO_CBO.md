# 옵티마이저 종류
데이터베이스 옵티마이저는 쿼리를 실행할 때 가장 효율적인 실행 계획을 고르기 위해 동작함

## 규칙 기반 옵티마이저 (Rule-Based Optimizer, RBO)

- 원리: 미리 정해진 규칙(우선순위)에 따라 실행 계획을 선택
- 예: 인덱스를 사용할 수 있으면 무조건 인덱스 스캔 > 풀스캔 같은 규칙
- 통계 정보를 보지 않고, 쿼리 구조와 규칙만으로 판단
- 장점: 구현이 단순, 예측 가능성이 높음
- 단점: 데이터 분포, 테이블 크기 변화에 따른 최적화가 불가능 → 실제 성능이 떨어질 수 있음
- 사용 예시: 초기 Oracle, MySQL 3.x 시대

## 비용 기반 옵티마이저 (Cost-Based Optimizer, CBO)

- 원리: 테이블·인덱스 통계(카디널리티, 분포, 선택도, I/O 비용 등)를 기반으로 비용(cost)을 계산
- 여러 실행 계획 후보를 만든 후, 비용이 최소인 것을 선택
- 장점: 데이터 특성과 환경(I/O, CPU)에 맞춰 더 정확한 계획 선택 가능
- 단점: 통계 정보가 오래되거나 부정확하면 오히려 잘못된 계획 선택 가능, 계산 비용 자체도 있음
- 사용 예시: 현대의 Oracle, PostgreSQL, MySQL(5.6 이상은 CBO 중심)

## 비교

| 구분 | 규칙 기반 옵티마이저 (RBO) | 비용 기반 옵티마이저 (CBO) |
| --- | --- | --- |
| 판단 기준 | 미리 정의된 규칙 | 실제 데이터 통계 기반 비용 |
| 장점 | 단순, 예측 가능 | 유연, 실제 상황에 최적화 |
| 단점 | 데이터 변화 반영 불가 | 통계 의존, 복잡도↑ |
| 현대 DB | 거의 사용 안 함 | 표준, 대부분 CBO |
